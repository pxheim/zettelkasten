Refactoring should be done in small steps. Very small. Then after every change, compile, test and commit your changes. It's a rhythm you should get into. You might be surprised by how small changes are to be done.

Always leave your code in a working state. That way you can stop at any time.